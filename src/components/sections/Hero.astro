---
import { Image } from "astro:assets";
import { Badge } from "@/components/ui/badge";
import RoleRotator from "@/components/islands/RoleRotator";
import { buttonVariants } from "@/components/ui/button";
import { cn } from "@/lib/utils";
import profileImage from "@/assets/profile.webp";
import { withBase } from "@/lib/withBase";

const roles = ["Software Developer", "Data Engineer", "IT Support", "Public Speaker"];
---

<section id="beranda" class="section" aria-label="Hero">
  <div aria-hidden="true" class="section-bg">
    <div class="absolute -top-24 left-1/2 h-72 w-72 -translate-x-1/2 rounded-full bg-primary/20 blur-2xl"></div>
    <div class="absolute -bottom-28 right-10 h-72 w-72 rounded-full bg-accent/20 blur-2xl"></div>
    <div class="absolute inset-0 bg-linear-to-b from-background via-background/70 to-transparent"></div>
  </div>

  <div class="container relative">
    <div class="grid items-center gap-12 md:grid-cols-[1.15fr_0.85fr]">
      <div class="space-y-8 md:space-y-10">
        <div class="flex flex-wrap items-center gap-3">
          <Badge variant="outline" className="w-fit">Available for collaboration</Badge>
          <span class="text-xs text-muted-foreground">Response time: 24–48h</span>
        </div>

        <header class="space-y-4">
          <p class="text-sm uppercase tracking-[0.35em] text-muted-foreground">Halo, saya</p>

          <h1 class="text-4xl font-semibold tracking-tight md:text-6xl">
            Novan<span class="bg-linear-to-r from-primary to-accent bg-clip-text text-transparent">ni Indi Pradana</span>
          </h1>

          <div class="max-w-xl space-y-3 text-base leading-relaxed text-muted-foreground md:text-lg">
            <p>
              Saya seorang statistisi yang senang membangun solusi digital untuk mendukung pengambilan keputusan
              berbasis data. Saya berpengalaman mengembangkan aplikasi web, membuat otomatisasi, serta mengolah
              dan menganalisis data. Saya juga aktif berkolaborasi dengan mitra statistik dan melakukan pembinaan
              lintas instansi.
            </p>
          </div>
        </header>

        <div class="pt-1">
          <RoleRotator client:idle roles={roles} />
        </div>

        <div class="flex flex-wrap items-center gap-3 pt-2">
          <a
            href="#kontak"
            aria-label="Hubungi saya"
            class={cn(
              buttonVariants({ size: "lg" }),
              "rounded-full bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:ring-2 focus-visible:ring-primary/40"
            )}
          >
            Hubungi Saya
          </a>

          <a
            href={withBase("cv_novanniindipradana.pdf")}
            download
            aria-label="Unduh CV"
            class={cn(
              buttonVariants({ size: "lg", variant: "outline" }),
              "rounded-full border-primary/40 text-foreground hover:border-primary hover:bg-primary/10 focus-visible:ring-2 focus-visible:ring-primary/40"
            )}
          >
            Unduh CV
          </a>
        </div>
      </div>

      <div class="relative mx-auto w-full max-w-sm">
        <div
          aria-hidden="true"
          class="absolute -inset-4 rounded-4xl bg-linear-to-br from-primary/20 via-transparent to-accent/20 blur-xl"
        ></div>

        <div class="relative overflow-hidden rounded-[28px] border border-border/60 bg-card p-4 shadow-sm text-center">
          <figure class="space-y-4">
            <Image
              src={profileImage}
              alt="Foto Novanni Indi Pradana"
              class="h-[26.25rem] w-full rounded-2xl object-cover"
              width={768}
              quality={92}
              format="webp"
              loading="eager"
              decoding="sync"
              fetchpriority="high"
            />

            <figcaption class="rounded-2xl border border-border/60 bg-secondary/60 p-4">
              <p class="text-sm font-medium text-foreground">
                “I don't know what happened, but I know what I have to do.”
              </p>
              <p class="mt-1 text-xs text-muted-foreground text-center">Sakata Gintoki from Gintama</p>
            </figcaption>
          </figure>
        </div>

        <div class="pointer-events-none absolute -bottom-4 left-1/2 w-[92%] -translate-x-1/2 rounded-2xl border border-border/60 bg-background/80 p-3 text-xs text-muted-foreground shadow-sm backdrop-blur-sm text-center">
          <span class="text-foreground">Open to:</span> freelance • contract
        </div>
      </div>
    </div>
  </div>
</section>
