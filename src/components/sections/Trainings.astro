---
import { Badge } from "@/components/ui/badge";
import { buttonVariants } from "@/components/ui/button";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { trainings } from "@/data/trainings";
import { cn } from "@/lib/utils";
---

<section id="pelatihan" class="section">
  <div aria-hidden="true" class="section-bg">
    <div class="absolute -top-24 left-10 h-72 w-72 rounded-full bg-primary/10 blur-3xl"></div>
    <div class="absolute -bottom-24 right-10 h-72 w-72 rounded-full bg-accent/10 blur-3xl"></div>
  </div>

  <div class="container">
    <div class="mx-auto mb-16 max-w-3xl text-center">
      <h2 class="mb-4 text-3xl font-bold text-foreground sm:text-4xl lg:text-5xl">
        Pelatihan
      </h2>
    </div>

    <div class="grid gap-6 md:grid-cols-2">
      {trainings.map((training) => (
        <Card className="group h-full border-border/60 bg-card/70 transition hover:-translate-y-0.5 hover:bg-card hover:shadow-sm focus-within:ring-2 focus-within:ring-primary/40">
          <CardHeader className="space-y-3">
            <div class="flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between">
              <div class="flex min-w-0 items-center gap-3">
                <div class="flex h-12 w-12 shrink-0 items-center justify-center rounded-xl border border-border/60 bg-secondary">
                  <img
                    src={training.logo}
                    alt={`${training.provider} logo`}
                    class="h-7 w-7"
                    loading="lazy"
                    decoding="async"
                  />
                </div>

                <div class="min-w-0">
                  <CardTitle className="sm:truncate">{training.provider}</CardTitle>
                  <CardDescription className="mt-1">
                    {training.program}
                  </CardDescription>
                </div>
              </div>

              <Badge variant="secondary" className="self-start rounded-full sm:self-auto sm:shrink-0">
                {training.year}
              </Badge>
            </div>
          </CardHeader>

          <CardContent className="space-y-3">
            <div class="flex flex-wrap gap-2">
              {training.skills.map((skill) => (
                <Badge variant="outline" className="rounded-full">
                  {skill}
                </Badge>
              ))}
            </div>

            {training.url ? (
              <a
                href={training.url}
                target="_blank"
                rel="noreferrer noopener"
                class={cn(buttonVariants({ size: "sm", variant: "outline" }), "rounded-full")}
              >
                Lihat Sertifikat
              </a>
            ) : null}
          </CardContent>
        </Card>
      ))}
    </div>
  </div>
</section>
