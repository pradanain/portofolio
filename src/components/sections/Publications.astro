---
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { publications } from "@/data/publications";
---

<section id="publications" class="relative overflow-hidden py-16 md:py-24">
  <!-- subtle background -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0">
    <div class="absolute -top-24 left-10 h-72 w-72 rounded-full bg-primary/10 blur-3xl"></div>
    <div class="absolute -bottom-24 right-10 h-72 w-72 rounded-full bg-accent/10 blur-3xl"></div>
  </div>

  <div class="container relative space-y-10">
    <div class="mx-auto max-w-2xl space-y-3 text-center">
      <h2 class="text-3xl font-semibold tracking-tight md:text-4xl">Publikasi</h2>
      <p class="text-base leading-relaxed text-muted-foreground md:text-lg">
        Tulisan dan materi yang pernah dipublikasikan.
      </p>
    </div>

    <div class="grid gap-6 md:grid-cols-2">
      {publications.map((item) => (
        <Card className="group h-full overflow-hidden border-border/60 bg-card/70 transition hover:-translate-y-0.5 hover:bg-card hover:shadow-sm focus-within:ring-2 focus-within:ring-primary/40">
          <CardHeader className="space-y-3">
            <div class="flex items-start justify-between gap-3">
              <CardTitle className="min-w-0 text-lg leading-snug">
                <span class="line-clamp-2">{item.title}</span>
              </CardTitle>

              <Badge variant="secondary" className="shrink-0 rounded-full">
                {item.year}
              </Badge>
            </div>

            <CardDescription className="text-sm">
              {item.platform}
            </CardDescription>
          </CardHeader>

          <CardContent className="space-y-4">
            {item.summary ? (
              <p class="text-sm leading-relaxed text-muted-foreground line-clamp-3">
                {item.summary}
              </p>
            ) : null}

            <div class="flex items-center justify-between gap-3">
              <Button asChild size="sm" variant="secondary" className="rounded-full">
                <a
                  href={item.link}
                  target="_blank"
                  rel="noreferrer"
                  aria-label={`Buka publikasi: ${item.title}`}
                >
                  Lihat Publikasi
                </a>
              </Button>

              <span class="text-xs text-muted-foreground">
                External link ↗
              </span>
            </div>
          </CardContent>
        </Card>
      ))}
    </div>
  </div>
</section>
