---
import "../styles/global.css";
import Navbar from "@/components/layout/Navbar.astro";
import Hero from "@/components/sections/Hero.astro";
import WhatIDo from "@/components/sections/WhatIDo.astro";
import Projects from "@/components/sections/Projects.astro";
import Education from "@/components/sections/Education.astro";
import Trainings from "@/components/sections/Trainings.astro";
import Experience from "@/components/sections/Experience.astro";
import Publications from "@/components/sections/Publications.astro";
import Contact from "@/components/sections/Contact.astro";

const title = "Novanni Indi Pradana | Software Developer & Data Engineer";
const description =
  "Portfolio personal Novanni Indi Pradana - Software Developer & Data Engineer di BPS - Statistics Indonesia.";

// Ganti sesuai domain kamu (penting untuk SEO).
const siteUrl = "https://novanniindipradana.com";
const ogImage = "/profile.jpg";
---

<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>{title}</title>
    <meta name="description" content={description} />

    <!-- SEO basics -->
    <link rel="canonical" href={siteUrl} />
    <meta name="robots" content="index, follow" />

    <!-- Theme color (support light/dark if you toggle themes) -->
    <meta name="theme-color" content="#0f172a" media="(prefers-color-scheme: dark)" />
    <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)" />

    <!-- JS hint -->
    <script is:inline>
      document.documentElement.classList.add("has-js");
    </script>

    <!-- Icons -->
    <link rel="icon" type="image/png" href="/logo.png" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Open Graph -->
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content={siteUrl} />
    <meta property="og:image" content={`${siteUrl}${ogImage}`} />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={`${siteUrl}${ogImage}`} />

    <!-- JSON-LD (Person) -->
    <script type="application/ld+json" is:inline>
      {JSON.stringify({
        "@context": "https://schema.org",
        "@type": "Person",
        name: "Novanni Indi Pradana",
        url: siteUrl,
        image: `${siteUrl}${ogImage}`,
        jobTitle: "Software Developer & Data Engineer",
        worksFor: {
          "@type": "Organization",
          name: "BPS - Statistics Indonesia"
        },
        sameAs: [
          // isi bila sudah punya:
          // "https://www.linkedin.com/in/novanniindipradana",
          // "https://github.com/novanniindipradana",
          // "https://instagram.com/novanniindipradana"
        ]
      })}
    </script>
  </head>

  <body class="min-h-screen bg-background text-foreground antialiased">
    <!-- Skip to content -->
    <a
      href="#main"
      class="sr-only focus:not-sr-only focus:fixed focus:left-4 focus:top-4 focus:z-50 focus:rounded-lg focus:bg-background focus:px-3 focus:py-2 focus:text-sm focus:shadow"
    >
      Lewati ke konten utama
    </a>

    <Navbar />

    <main id="main">
      <Hero />
      <WhatIDo />
      <Projects />
      <Education />
      <Trainings />
      <Experience />
      <Publications />
      <Contact />
    </main>

<footer class="border-t border-border/60 py-10">
  <div class="container">
    <p class="text-center text-sm text-muted-foreground">
      © 2026 Novanni Indi Pradana. All rights reserved.
    </p>
  </div>
</footer>


    <!-- Reveal animation (progressive enhancement) -->
    <script is:inline>
      const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      const reveals = document.querySelectorAll("[data-reveal]");

      // If user prefers reduced motion, show everything immediately.
      if (prefersReduced) {
        reveals.forEach((el) => el.classList.add("is-visible"));
      } else if ("IntersectionObserver" in window) {
        const observer = new IntersectionObserver(
          (entries, obs) => {
            for (const entry of entries) {
              if (entry.isIntersecting) {
                entry.target.classList.add("is-visible");
                obs.unobserve(entry.target);
              }
            }
          },
          { threshold: 0.15, rootMargin: "0px 0px -10% 0px" }
        );

        reveals.forEach((el) => observer.observe(el));
      } else {
        // Fallback for older browsers
        reveals.forEach((el) => el.classList.add("is-visible"));
      }
    </script>
  </body>
</html>
